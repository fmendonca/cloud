---
  - hosts: localhost
    connection: local
    tasks:
      - name: Create openshift cluster 
        azure_rm_openshiftmanagedcluster:
          resource_group: "{{ rsg_name }}"
          name: "{{ cluster_name }}"
          api_server_profile:
            visibility: "{{ api_visibility }}"
          ingress_profiles:
            visibility: "{{ ingress_visibility }}"
          cluster_profile:
            resource_group_id: "{{ rsg_name }}"
            domain: "{{ cluster_name }}"
          network_profile:
            pod_cidr: "{{ pod_cidr }}"
            service_cidr: "{{ service_cidr }}"
          worker_profiles:
            - vm_size : "{{ instance_type_worker }}"
              subnet_id : "{{ worker_subnet_id }}"
              disk_size : "{{ worker_disk_size }}"
              count : "{{ worker_count }}" 
          master_profile:
            vm_size : "{{ instance_type_master }}"
            subnet_id: "{{ master_subnet_id }}"